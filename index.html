<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Give 100 Likes</title>
  <style>
    body { font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial; padding: 2rem; max-width: 700px; margin: auto; }
    input { padding: .5rem; font-size: 1rem; width: 60%; }
    button { padding: .5rem 1rem; font-size: 1rem; }
    .msg { margin-top: 1rem; color: #111; }
  </style>
</head>
<body>
  <h1>Get 100 Likes</h1>
  <p>Enter your UID below and click <strong>Give 100</strong>. This adds 100 internal likes to your UID on this website only.</p>

  <div>
    <input id="uid" placeholder="Enter UID (e.g. 123456789)" />
    <button id="give">Give 100</button>
    <button id="check">Check Likes</button>
  </div>

  <p class="msg" id="msg"></p>

  <script>
    const msg = document.getElementById('msg');
    document.getElementById('give').addEventListener('click', async () => {
      const uid = document.getElementById('uid').value.trim();
      if (!uid) { msg.innerText = 'Please enter a UID'; return; }
      try {
        const r = await fetch('/api/give100', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ uid })
        });
        const j = await r.json();
        if (r.ok) msg.innerText = j.message + ' Total likes: ' + j.likes;
        else msg.innerText = j.error || 'Error';
      } catch (e) { msg.innerText = 'Network error'; }
    });

    document.getElementById('check').addEventListener('click', async () => {
      const uid = document.getElementById('uid').value.trim();
      if (!uid) { msg.innerText = 'Please enter a UID'; return; }
      try {
        const r = await fetch('/api/likes/' + encodeURIComponent(uid));
        const j = await r.json();
        if (r.ok) msg.innerText = 'Total likes for ' + uid + ': ' + j.likes;
        else msg.innerText = j.error || 'Error';
      } catch (e) { msg.innerText = 'Network error'; }
    });
  </script>
</body>
</html>
